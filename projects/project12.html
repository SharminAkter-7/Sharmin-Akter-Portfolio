<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Base styles -->
    <link rel="stylesheet" href="../css/style.css" />
    <!-- Footer styles -->
    <link rel="stylesheet" href="../css/style_footer.css" />
    <!-- Project detail styles -->
    <link rel="stylesheet" href="../css/style_project_detail.css" />

    <title>Project 12</title>
</head>
<body>
    <nav>
        <a href="../index.html" class="active"><b>Sharmin Akter</b></a>
    </nav>

    <main class="project-main">
        <!-- TOP CONTROLS: Prev (left) — Breadcrumb (center) — Next (right) -->
        <div class="project-top-controls">

        <!-- LEFT: Prev (or "Start") -->
        <!-- Only include the <a> if you have a prev project; otherwise put Start text or non-linked -->
        <div class="project-top-left">
            <!-- example when you have a prev -->
            <a href="../projects/project11.html" class="project-prev">← Previous</a>

            <!-- if you don't have prev and want "Start" instead, use:
            <span class="project-prev start">Start</span>
            -->
        </div>
         <!-- RIGHT: Next (only include when exists) -->
        <div class="project-top-right">
            <!-- example when you have a next -->
            <a href="../projects/project13.html" class="project-next">Next →</a>

            <!-- if not present, simply omit the a (no HTML required) -->
        </div>
        </div>

        <!-- Breadcrumb / path -->
        <div class="project-breadcrumb">
            <span class="crumb-path">
                <a href="../index.html">./home</a> /
                <a href="../projects.html">projects</a> /
                <span>project12</span>
            </span>
        </div>

        <!-- Header block -->
        <header class="project-header">
            <h1>Project 12</h1>
            <p class="project-meta">
                <b>Course Code and Name: </b>MSJ11345 Creative Private Media <br>
                <b>Project Name: </b>Production Video of Dragon House Dhaka<br>
                <!-- <b>Topic: </b>_<br> -->
                <b>Date of Project: </b>Summer 2024<br> <br>
                <b>Project Description:</b>
                Dhaka, founded by Shadman Faiyaz in 2022, is a dynamic collective of fire artists known for their breathtaking, fire-lit performances. In a short time, they have grown into a thriving artistic community, captivating audiences and gaining recognition from major corporations in Bangladesh. Dragon House combines skill, creativity, and passion to deliver unforgettable live experiences that blend performance art with spectacle. In this course we must Highlight Dragon House’s artistry and create an engaging, corporate-style promotional video. <br> <br>
                <b>Project Justification:</b>
                The video aims to showcase the talent, creativity, and dedication of Dragon House Dhaka’s fire artists. By capturing pre-performance preparations, live performances, and post-performance celebrations, the video highlights the artistic and entertainment value of the group. It also serves as a promotional tool, helping the team gain visibility, attract audiences, and demonstrate their potential to corporate clients, while giving students practical experience in pre-production, shooting, and post-production processes. <br> <br>
                <b>Learnings and Outcomes:</b>
                Through this project, I learned how to plan, shoot, and edit a video professionally. I gained hands-on experience in storytelling, camera work, and post-production, while improving my creativity, technical skills, and ability to work in a team. Also <br>
                <b>1.</b> Pre-Production Skills: Planning, scripting, and storyboarding a video effectively. <br>
                <b>2.</b> Production Skills: Camera work, lighting, capturing dynamic performances, and managing real-time shoots. <br>
                <b>3.</b> Post-Production Skills: Editing, color grading, sound design, and adding text/graphics for a polished final product.<br>
                <b>4.</b> Teamwork & Time Management: Coordinating with performers, crew, and managing the shoot efficiently.<br>
                <b>5.</b> Creative Storytelling: Translating live performance into a visually engaging narrative.<br>
            </p>
        </header>

        <section class="project-section">
        <!-- <h2>Video Documentation</h2> -->

        <div class="video-embed">
            <iframe
            src="https://drive.google.com/file/d/1gSDHHgRh6S6irx207t4G5Vkfs4IOyzyn/preview"
            allow="autoplay"
            loading="lazy">
            </iframe>
        </div>

        <!-- <p class="video-caption">
            Campaign activity documentation (bKash 1432).
        </p> -->
        </section>

        <section id="project-sectionV-2" class="project-section project-pdf-section">
            <h2 class="pdf-title">
            <a href="../documents/project12.pdf" target="_blank" class="pdf-tag">View as PDF</a>
            </h2>


            <div id="pdf-container" class="pdf-container">
                <div class="pdf-loading-global">Loading document…</div>
            </div>
        </section>

        <!-- PDF.js from CDN -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

        <script>
        // Configure PDF.js worker
        if (window['pdfjsLib']) {
            pdfjsLib.GlobalWorkerOptions.workerSrc =
            "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";
        }

        const pdfUrl = "../documents/project12.pdf"; // pdf location
        const container = document.getElementById("pdf-container");

        let pdfDoc = null;
        let pageShells = [];

        // Create skeleton placeholders for each page
        function createPageShells(totalPages) {
            container.innerHTML = ""; // remove "Loading document..." text

            for (let pageNum = 1; pageNum <= totalPages; pageNum++) {
            const shell = document.createElement("div");
            shell.className = "pdf-page-shell";
            shell.dataset.pageNumber = pageNum;
            shell.dataset.rendered = "false";

            shell.innerHTML = `
                <div class="pdf-skeleton">
                <div class="pdf-skeleton-header"></div>
                <div class="pdf-skeleton-body"></div>
                </div>
            `;

            container.appendChild(shell);
            pageShells.push(shell);
            }
        }

        // Render a single page into its shell
        function renderPage(pageNum, shell) {
            // Prevent double-render
            if (shell.dataset.rendered === "true") return;

            pdfDoc.getPage(pageNum).then(function (page) {
            const scale = 1.4; // zoom level (1.2–1.5 looks good)
            const viewport = page.getViewport({ scale });

            const canvas = document.createElement("canvas");
            canvas.className = "pdf-page-canvas";
            const context = canvas.getContext("2d");

            canvas.height = viewport.height;
            canvas.width = viewport.width;

            const renderContext = {
                canvasContext: context,
                viewport: viewport
            };

            // Keep skeleton until render completes
            page.render(renderContext).promise.then(function () {
                shell.innerHTML = ""; // remove skeleton
                shell.appendChild(canvas);
                shell.dataset.rendered = "true";
            });
            }).catch(function (err) {
            console.error("Error rendering page", pageNum, err);
            shell.innerHTML = "<p class='pdf-error'>Failed to load this page.</p>";
            });
        }

        // Lazy load pages near the viewport
        function checkVisiblePages() {
            const viewportHeight = window.innerHeight;

            pageShells.forEach(shell => {
            const rect = shell.getBoundingClientRect();

            // Only render if page is within some range around viewport
            const buffer = viewportHeight * 1.5; // 1.5x screen above/below
            const isNearViewport = rect.top < buffer && rect.bottom > -buffer;

            if (isNearViewport && shell.dataset.rendered === "false") {
                const pageNum = parseInt(shell.dataset.pageNumber, 10);
                renderPage(pageNum, shell);
            }
            });
        }

        // Throttle scroll handler a bit using requestAnimationFrame
        let scrollScheduled = false;
        function onScroll() {
            if (!scrollScheduled) {
            scrollScheduled = true;
            window.requestAnimationFrame(() => {
                checkVisiblePages();
                scrollScheduled = false;
            });
            }
        }

        // Load PDF
        pdfjsLib.getDocument(pdfUrl).promise.then(function (pdf) {
            pdfDoc = pdf;

            // Create shells for all pages
            createPageShells(pdf.numPages);

            // Initial check (for pages already in view)
            checkVisiblePages();

            // Listen to scroll and resize
            window.addEventListener("scroll", onScroll);
            window.addEventListener("resize", onScroll);
        }).catch(function (err) {
            console.error("PDF load error:", err);
            container.innerHTML = "<p class='pdf-error'>Unable to load PDF.</p>";
        });
        </script>

        <div class="project-backlink">
            <a href="../projects.html">← Back to all projects</a>
        </div>

        <footer id="contact" class="new_footer_area bg_color">
            <!-- reuse your footer HTML here -->
        </footer>
    </main>
    <!-- Scroll to top button -->
<button id="scrollTopBtn" aria-label="Scroll to top" title="Back to top">
  <i class="fa fa-arrow-up" aria-hidden="true"></i>
</button>

<script>
(function() {
  // threshold element: when we scroll past this element (the header), show the button
  const thresholdEl = document.querySelector('.project-header') || document.querySelector('.project-top-controls');
  const scrollBtn = document.getElementById('scrollTopBtn');

  // safety: if button not exist, do nothing
  if (!scrollBtn) return;

  // check scroll position relative to threshold element
  function checkScroll() {
    if (!thresholdEl) {
      // fallback: show after 400px
      if (window.scrollY > 400) scrollBtn.classList.add('show');
      else scrollBtn.classList.remove('show');
      return;
    }

    const rect = thresholdEl.getBoundingClientRect();
    // when bottom of the threshold element is above the top of viewport => we've scrolled past it
    if (rect.bottom < 0) scrollBtn.classList.add('show');
    else scrollBtn.classList.remove('show');
  }

  // smooth scroll to top on click
  scrollBtn.addEventListener('click', function(e){
    e.preventDefault();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  // listen to scroll/resize
  window.addEventListener('scroll', checkScroll, { passive: true });
  window.addEventListener('resize', checkScroll);
  // run once
  checkScroll();
})();
</script>

</body>
</html>
